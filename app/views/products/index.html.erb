<h1>Products</h1>

<div class="products-grid">
  <% @products.each_with_index do |product, index| %>
    <%= turbo_frame_tag dom_id(product) do %>
      <div class="card">
        <h2><%= link_to product.title, product_path(product) %></h2>
        <p><%= number_to_currency(product.price) %></p>
        <div class="timer-wrapper">
          <span class="timer-label">Time:</span>
          <span class="timer" data-start="1">1</span>
          <span class="timer-sec">sec</span>
        </div>
        <br>
        <%= button_to "Add to cart", add_item_cart_path(product_id: product.id), method: :post, class: "btn" %>
        <%= link_to "Edit", edit_product_path(product), data: { turbo_frame: "modal" }, class: "btn btn-secondary" %>
      </div>
    <% end %>
  <% end %>
</div>

<!-- Modal Frame -->
<turbo-frame id="modal"></turbo-frame>
